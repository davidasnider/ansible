all:
  hosts:
    gw:
      ansible_user: root
      static_dns_records:
      - name: k8s1
        ip: 10.9.9.200
      - name: k8s2
        ip: 10.9.9.201
      - name: mail
        ip: 10.9.9.202
      - name: registry
        ip: 10.9.9.203
      - name: ssh
        ip: 10.9.9.204
      - name: rundeck
        ip: 10.9.9.205
      - name: icinga-sec
        ip: 10.9.9.206
      - name: icinga-pri
        ip: 10.9.9.207
      - name: metrics
        ip: 10.9.9.208
      - name: cava
        ip: 10.9.9.209
    shiraz:
      ansible_user: root
      ansible_python_interpreter: /usr/local/bin/python
      ups: server
    blanc:
      ansible_user: admin
    franc:
      hostname: franc
    giro:
      hostname: giro
    grigio:
      hostname: grigio
  children:
    k8s1:
      children:
        k8s1masters:
          hosts:
            r401:
              hostname: r401
              hostmac: dc:a6:32:26:8c:d7
              ip: 10.9.9.16
              serial: 87cfb469
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
            r402:
              hostname: r402
              hostmac: dc:a6:32:45:d5:71
              ip: 10.9.9.17
              serial: 0726a7aa
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
            r403:
              hostname: r403
              hostmac: dc:a6:32:40:b3:7b
              ip: 10.9.9.18
              serial: 4b13f41b
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
        k8s1workers:
          hosts:
            r404:
              hostname: r404
              hostmac: dc:a6:32:46:1c:18
              ip: 10.9.9.19
              serial: 2f0b6991
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
            ia02:
              hostname: ia02
              hostmac: 90:2b:34:11:9a:e0
              ip: 10.9.9.14
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
              extent_filename: iamaster
              dataset: iamaster_iscsi_luns
              blocksize: 512
              zfs_snapshot: 20201101 # Comment this if it's the same for rpi's as well
              k8s_disks: #these will be added to a /mnt folder for local pvcs
                disk1:
                  disk: /dev/disk/by-path/pci-0000:03:00.0-ata-1
                  path: /mnt/disk1
            ia03:
              hostname: ia03
              hostmac: 68:05:ca:28:1c:09
              ip: 10.9.9.15
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
              extent_filename: iamaster
              dataset: iamaster_iscsi_luns
              blocksize: 512
              zfs_snapshot: 20201101 # Comment this if it's the same for rpi's as well
              k8s_disks: #these will be added to a /mnt folder for local pvcs
                disk1:
                  disk: /dev/disk/by-path/pci-0000:00:1f.2-ata-1
                  path: /mnt/disk1
      vars:
        zfs_snapshot: 20210307
        dataset: rpi4master_iscsi_luns
        blocksize: 4096
        vip: 10.9.9.101
        lb_range: 10.9.10.1-10.9.10.254
        masters:
        - r401
        - r402
        - r403
        workers:
        - r404
        - ia02
        - ia03
        token: udy29x.ugyyk3tumg27atmr
        k3s_version: 'v1.21.0%2Bk3s1'
        metallb_version: v0.9.6
        flannel_version: master
        dashboard_ip: 10.9.9.200
        power_url: http://blanc:8000/devices/012%20-%20K8S1
        cluster_name: k8s1
        extent_filename: rpi4master
        prod_cluster: true
    k8s2:
      children:
        k8s2masters:
          hosts:
            r405:
              hostname: r405
              hostmac: dc:a6:32:45:6c:08
              ip: 10.9.9.20
              serial: db460bd5
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
            r406:
              hostname: r406
              hostmac: dc:a6:32:45:fc:83
              ip: 10.9.9.21
              serial: 8883c656
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
            r407:
              hostname: r407
              hostmac: dc:a6:32:28:d4:fa
              ip: 10.9.9.22
              serial: 5d9d5cd5
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
        k8s2workers:
          hosts:
            r408:
              hostname: r408
              hostmac: dc:a6:32:61:11:1b
              ip: 10.9.9.23
              serial: 529babfe
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
            ia01:
              hostname: ia01
              hostmac: 00:01:2e:48:a8:89
              ip: 10.9.9.13
              pool: SAMSUNG_1TB_NVME
              boot_from_san: true
              extent_filename: iamaster
              dataset: iamaster_iscsi_luns
              blocksize: 512
              zfs_snapshot: 20201101 # Comment this if it's the same for rpi's as well
              k8s_disks: #these will be added to a /mnt folder for local pvcs
                disk1:
                  disk: /dev/disk/by-path/pci-0000:00:1f.2-ata-1
                  path: /mnt/disk1
      vars:
        zfs_snapshot: 20210307
        dataset: rpi4master_iscsi_luns
        blocksize: 4096
        vip: 10.9.9.102
        lb_range: 10.9.11.1-10.9.11.254
        masters:
        - r405
        - r406
        - r407
        workers:
        - r408
        - ia01
        token: udy29x.ugyyk3tumg27atmr
        k3s_version: 'v1.21.0%2Bk3s1'
        metallb_version: v0.9.6
        dashboard_ip: 10.9.9.201
        power_url: http://blanc:8000/devices/020%20-%20K8S2
        cluster_name: k8s2
        extent_filename: rpi4master
        prod_cluster: false
  vars:
    ansible_user: ansible
    boot_from_san: false
    ups: client
